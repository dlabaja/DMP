% Nastavení formátu stránky a jazyková nastavení

\usepackage[utf8]{inputenc}		%čeština
\usepackage[czech]{babel}			%čeština
\usepackage[T1]{fontenc}			%čeština
\usepackage{nimbusserif}			%font
\usepackage[hidelinks]{hyperref}
\usepackage{lipsum}
\usepackage{tocloft}
\usepackage{csquotes}
% Možnost nastavení barvy odkazů
% \hypersetup{
%     colorlinks=true,
%     urlcolor=cyan,
%     linkcolor=green,
%     filecolor=red,
%     citecolor=red,
%     }

\usepackage[total={15cm,25cm}, top=2cm, left=3cm, includefoot]{geometry}	%okraje stránek
\setlength{\emergencystretch}{3em}
%\setlength{\headheight}{5pt}		
\clubpenalty 10000		%sirotci a vdovy
\widowpenalty 10000	%sirotci a vdovy
\setcounter{tocdepth}{2}                % počet úrovní v TOC
\setcounter{secnumdepth}{2}             % počet úrovní číslování kapitol

%-------------------------------------------------------------------------------------------------------------------------------
% Nastavení citací
\usepackage[sorting=none, style=numeric, citestyle=numeric]{biblatex}
\DeclareFieldFormat{labelnumber}{\textsuperscript{[#1]}}
\renewcommand*{\mkbibbrackets}[1]{#1}
\addbibresource{citace.bib}
%-------------------------------------------------------------------------------------------------------------------------------
% Nastavení tabulek a obrázků
\usepackage{adjustbox}	%možnosti šířky tabulky
\usepackage{graphicx,wrapfig,epsfig,subcaption}	%obrázky
\usepackage{amsmath,amsfonts,amssymb}	%matematika
\usepackage{enumitem}	%seznamy

\usepackage{multirow,array}	%tabulky
\newcolumntype{R}[1]{>{\raggedleft\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{P}[1]{>{\raggedright\arraybackslash}p{#1}}		%nastavení tabulek
\usepackage[font=small,labelfont=bf,textfont=it]{caption}	%Změna popisků
\renewcommand{\arraystretch}{1.5}							%Výška řádku
\usepackage[flushleft]{threeparttable}      % složitější tabulky
\usepackage{longtable}                      % dlouhé tabulky
\usepackage{bm}
\usepackage{booktabs}                       % knižní tabulky

% Nastavení cmidrule a cline pro babel
\usepackage{regexpatch}
\makeatletter
% Change the `-` delimiter to an active character
\xpatchparametertext\@@@cmidrule{-}{\cA-}{}{}
\xpatchparametertext\@cline{-}{\cA-}{}{}
\makeatother

\usepackage{lscape}                         % otočení objektu (obrázku, tabulky), včetně popisu
\usepackage{rotating}                       % rotace obektů
\usepackage{wrapfig}                        % umístění objektu do textu

\usepackage{siunitx}	%jednotky a jejich nastavení na češtinu
\sisetup{detect-all, output-decimal-marker = {,}, list-final-separator = { a~},inter-unit-product = \ensuremath{{}\cdot{}}, range-phrase=--}

%------------------------------------------------------------------------------------------------------------------------------
% Nastavení formátování stránky, záhlaví a zápatí
\usepackage{fancyhdr}	%záhlaví a zápatí
\usepackage{setspace}
\setstretch{1.5}
\newcommand{\helv}						%---Písmo
	{
		\fontshape{it}					%---Kurzíva			
		\fontsize{12}{12}				%---Velikost
		\selectfont
	}	

\usepackage{titlesec}

\titleformat{\chapter}{\bfseries\huge}{\thechapter}{16pt}{}
\titlespacing*{\chapter}{0pt}{0ex plus 0ex minus .2ex}{1.5ex plus .2ex}

\newcommand{\clear}{
    \fancypagestyle{plain}{%
        \fancyhf{}                          % clear all header and footer fields
        \rfoot{\helv \thepage}
    }
}

\fancypagestyle{plain}{
					\fancyhf{}								
					\fancyfoot[R]{\helv \thepage}			
					
				}

%předefinování záhlaví a zápatí
\fancyhf{}								%---Vymaže záhlaví/zápatí
\lhead{}								%---Levé záhlaví
\chead{}								%---Střed záhlaví
\rhead{\helv \nouppercase{\nazevCZ}}	%---Pravé záhlaví
\lfoot{}								%---Levé zápatí
\cfoot{}					            %---Střed zápatí (číslo stránky)
\rfoot{\helv \thepage}					%---Pravé zápatí
\setlength{\headheight}{15pt}

\pagestyle{fancy} \def\thepage{\arabic{page}}


%-------------------------------------------------------------------------------------------------------------------------------
% Nastavení psaní kódu
\usepackage{listings}
\usepackage{xcolor}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}

\lstset{style=mystyle}

\newenvironment{shortitemize}[1][\textbullet]{%
    \begin{itemize}[label={#1}]
        \setlength{\itemsep}{0pt}
        \setlength{\parskip}{0pt}
        \setlength{\parsep}{0pt}
}{%
    \end{itemize}
}
\usepackage{pdfpages} % titulní strana
\usepackage{todonotes}
